!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function t(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(n,u){var a=[],l=[],f=new WeakMap,c=[],d=!0;return{value:function(){return r&&(r.inputs=[].concat(t(r.inputs||[]),[this])),d&&this.run(),u},run:function(){var r=this,c=e(o(n),2),s=c[0],v=c[1];d=!1;var p=s.inputs||[],h=i(p,a),m=i(a,p);a=t(p),h.forEach(function(e){var t=e.connect(r.strobe.bind(r));f.set(e,t)}),m.forEach(function(e){var t=f.get(e);f.delete(e),t()});var y=u;u=v,y!==v&&l.forEach(function(e){return e(r,y,v)})},dirty:function(){return d},strobe:function(){d=!0,this.run()},connect:function(e){var n=this;d&&this.run(),l=[].concat(t(l),[e]);return function(){0===(l=l.filter(function(t){return t!==e})).length&&n.free()}},free:function(){a.forEach(function(e){var t=f.get(e);f.delete(e),t()}),a=[],d=!0,u=void 0,c.forEach(function(e){return e()}),c=[]},onFree:function(e){c=[].concat(t(c),[e])},inputs:function(){return d&&this.run(),t(a)}}}var r=void 0;function o(e){var t=r,n=[r={},e()];return r=t,n}function i(e,t){return e.filter(function(e){return t.indexOf(e)<0})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.requestAnimationFrame,n=[],r=!1;return{enqueue:function(e){n.push(e),this.schedule()},flush:function(){r=!1;var e=t(n);n=[],e.forEach(function(e){return e()})},schedule:function(){r||(r=!0,e(this.flush))},tickFn:function(t){e=t}}}var a=u();u();function l(e,t,n,r,o){return{sel:e,data:t,children:n,text:r,elm:o,key:void 0===t?void 0:t.key}}var f=Array.isArray;var c={createElement:function(e){return document.createElement(e)},createElementNS:function(e,t){return document.createElementNS(e,t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType}};function d(e){return void 0===e}function s(e){return void 0!==e}var v=l("",{},[],void 0,void 0);function p(e,t){return e.key===t.key&&e.sel===t.sel}function h(e,t,n){var r,o,i,u={};for(r=t;r<=n;++r)null!=(i=e[r])&&void 0!==(o=i.key)&&(u[o]=r);return u}var m=["create","update","remove","destroy","pre","post"];function y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g(e,t){return e(t={exports:{}},t.exports),t.exports}var w=g(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="http://www.w3.org/1999/xlink",r="http://www.w3.org/XML/1998/namespace",o=58,i=120;function u(e,t){var u,a=t.elm,l=e.data.attrs,f=t.data.attrs;if((l||f)&&l!==f){for(u in l=l||{},f=f||{}){var c=f[u];l[u]!==c&&(!0===c?a.setAttribute(u,""):!1===c?a.removeAttribute(u):u.charCodeAt(0)!==i?a.setAttribute(u,c):u.charCodeAt(3)===o?a.setAttributeNS(r,u,c):u.charCodeAt(5)===o?a.setAttributeNS(n,u,c):a.setAttribute(u,c))}for(u in l)u in f||a.removeAttribute(u)}}t.attributesModule={create:u,update:u},t.default=t.attributesModule}),b=y(w),x=(w.attributesModule,g(function(e,t){function n(e,t){var n,r,o=t.elm,i=e.data.class,u=t.data.class;if((i||u)&&i!==u){for(r in u=u||{},i=i||{})u[r]||o.classList.remove(r);for(r in u)(n=u[r])!==i[r]&&o.classList[n?"add":"remove"](r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.classModule={create:n,update:n},t.default=t.classModule})),A=y(x),C=(x.classModule,g(function(e,t){function n(e,t){var n=e.type,r=t.data.on;r&&r[n]&&function e(t,n,r){if("function"==typeof t)t.call(n,r,n);else if("object"==typeof t)if("function"==typeof t[0])if(2===t.length)t[0].call(n,t[1],r,n);else{var o=t.slice(1);o.push(r),o.push(n),t[0].apply(n,o)}else for(var i=0;i<t.length;i++)e(t[i],n,r)}(r[n],t,e)}function r(e,t){var r,o=e.data.on,i=e.listener,u=e.elm,a=t&&t.data.on,l=t&&t.elm;if(o!==a){if(o&&i)if(a)for(r in o)a[r]||u.removeEventListener(r,i,!1);else for(r in o)u.removeEventListener(r,i,!1);if(a){var f=t.listener=e.listener||function e(t){n(t,e.vnode)};if(f.vnode=t,o)for(r in a)o[r]||l.addEventListener(r,f,!1);else for(r in a)l.addEventListener(r,f,!1)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.eventListenersModule={create:r,update:r,destroy:r},t.default=t.eventListenersModule})),M=y(C),E=(C.eventListenersModule,g(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window&&window.requestAnimationFrame.bind(window)||setTimeout,r=function(e){n(function(){n(e)})},o=!1;function i(e,t,n){r(function(){e[t]=n})}function u(e,t){var n,r,o=t.elm,u=e.data.style,a=t.data.style;if((u||a)&&u!==a){a=a||{};var l="delayed"in(u=u||{});for(r in u)a[r]||("-"===r[0]&&"-"===r[1]?o.style.removeProperty(r):o.style[r]="");for(r in a)if(n=a[r],"delayed"===r&&a.delayed)for(var f in a.delayed)n=a.delayed[f],l&&n===u.delayed[f]||i(o.style,f,n);else"remove"!==r&&n!==u[r]&&("-"===r[0]&&"-"===r[1]?o.style.setProperty(r,n):o.style[r]=n)}}t.styleModule={pre:function(){o=!1},create:u,update:u,destroy:function(e){var t,n,r=e.elm,o=e.data.style;if(o&&(t=o.destroy))for(n in t)r.style[n]=t[n]},remove:function(e,t){var n=e.data.style;if(n&&n.remove){o||(getComputedStyle(document.body).transform,o=!0);var r,i=e.elm,u=0,a=n.remove,l=0,f=[];for(r in a)f.push(r),i.style[r]=a[r];for(var c=getComputedStyle(i)["transition-property"].split(", ");u<c.length;++u)-1!==f.indexOf(c[u])&&l++;i.addEventListener("transitionend",function(e){e.target===i&&--l,0===l&&t()})}else t()}},t.default=t.styleModule})),N=y(E),k=(E.styleModule,g(function(e,t){function n(e,t,n,r,o){return{sel:e,data:t,children:n,text:r,elm:o,key:void 0===t?void 0:t.key}}Object.defineProperty(t,"__esModule",{value:!0}),t.vnode=n,t.default=n}));y(k);k.vnode;var O=g(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.array=Array.isArray,t.primitive=function(e){return"string"==typeof e||"number"==typeof e}});y(O);O.array,O.primitive;var T=g(function(e,t){function n(e,t,n){var r,o,i,u={};if(void 0!==n?(u=t,O.array(n)?r=n:O.primitive(n)?o=n:n&&n.sel&&(r=[n])):void 0!==t&&(O.array(t)?r=t:O.primitive(t)?o=t:t&&t.sel?r=[t]:u=t),void 0!==r)for(i=0;i<r.length;++i)O.primitive(r[i])&&(r[i]=k.vnode(void 0,void 0,void 0,r[i],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||function e(t,n,r){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==r&&void 0!==n)for(var o=0;o<n.length;++o){var i=n[o].data;void 0!==i&&e(i,n[o].children,n[o].sel)}}(u,r,e),k.vnode(e,u,r,o,void 0)}Object.defineProperty(t,"__esModule",{value:!0}),t.h=n,t.default=n});y(T);var _=T.h,S=function(e,t){var n,r,o={},i=void 0!==t?t:c;for(n=0;n<m.length;++n)for(o[m[n]]=[],r=0;r<e.length;++r){var u=e[r][m[n]];void 0!==u&&o[m[n]].push(u)}function a(e){var t=e.id?"#"+e.id:"",n=e.className?"."+e.className.split(" ").join("."):"";return l(i.tagName(e).toLowerCase()+t+n,{},[],void 0,e)}function y(e,t){return function(){if(0==--t){var n=i.parentNode(e);i.removeChild(n,e)}}}function g(e,t){var n,r=e.data;void 0!==r&&s(n=r.hook)&&s(n=n.init)&&(n(e),r=e.data);var u,a=e.children,l=e.sel;if("!"===l)d(e.text)&&(e.text=""),e.elm=i.createComment(e.text);else if(void 0!==l){var c=l.indexOf("#"),p=l.indexOf(".",c),h=c>0?c:l.length,m=p>0?p:l.length,y=-1!==c||-1!==p?l.slice(0,Math.min(h,m)):l,w=e.elm=s(r)&&s(n=r.ns)?i.createElementNS(n,y):i.createElement(y);for(h<m&&w.setAttribute("id",l.slice(h+1,m)),p>0&&w.setAttribute("class",l.slice(m+1).replace(/\./g," ")),n=0;n<o.create.length;++n)o.create[n](v,e);if(f(a))for(n=0;n<a.length;++n){var b=a[n];null!=b&&i.appendChild(w,g(b,t))}else("string"==typeof(u=e.text)||"number"==typeof u)&&i.appendChild(w,i.createTextNode(e.text));s(n=e.data.hook)&&(n.create&&n.create(v,e),n.insert&&t.push(e))}else e.elm=i.createTextNode(e.text);return e.elm}function w(e,t,n,r,o,u){for(;r<=o;++r){var a=n[r];null!=a&&i.insertBefore(e,g(a,u),t)}}function b(e){var t,n,r=e.data;if(void 0!==r){for(s(t=r.hook)&&s(t=t.destroy)&&t(e),t=0;t<o.destroy.length;++t)o.destroy[t](e);if(void 0!==e.children)for(n=0;n<e.children.length;++n)null!=(t=e.children[n])&&"string"!=typeof t&&b(t)}}function x(e,t,n,r){for(;n<=r;++n){var u=void 0,a=void 0,l=void 0,f=t[n];if(null!=f)if(s(f.sel)){for(b(f),a=o.remove.length+1,l=y(f.elm,a),u=0;u<o.remove.length;++u)o.remove[u](f,l);s(u=f.data)&&s(u=u.hook)&&s(u=u.remove)?u(f,l):l()}else i.removeChild(e,f.elm)}}function A(e,t,n){var r,u;s(r=t.data)&&s(u=r.hook)&&s(r=u.prepatch)&&r(e,t);var a=t.elm=e.elm,l=e.children,f=t.children;if(e!==t){if(void 0!==t.data){for(r=0;r<o.update.length;++r)o.update[r](e,t);s(r=t.data.hook)&&s(r=r.update)&&r(e,t)}d(t.text)?s(l)&&s(f)?l!==f&&function(e,t,n,r){for(var o,u,a,l=0,f=0,c=t.length-1,s=t[0],v=t[c],m=n.length-1,y=n[0],b=n[m];l<=c&&f<=m;)null==s?s=t[++l]:null==v?v=t[--c]:null==y?y=n[++f]:null==b?b=n[--m]:p(s,y)?(A(s,y,r),s=t[++l],y=n[++f]):p(v,b)?(A(v,b,r),v=t[--c],b=n[--m]):p(s,b)?(A(s,b,r),i.insertBefore(e,s.elm,i.nextSibling(v.elm)),s=t[++l],b=n[--m]):p(v,y)?(A(v,y,r),i.insertBefore(e,v.elm,s.elm),v=t[--c],y=n[++f]):(void 0===o&&(o=h(t,l,c)),d(u=o[y.key])?(i.insertBefore(e,g(y,r),s.elm),y=n[++f]):((a=t[u]).sel!==y.sel?i.insertBefore(e,g(y,r),s.elm):(A(a,y,r),t[u]=void 0,i.insertBefore(e,a.elm,s.elm)),y=n[++f]));(l<=c||f<=m)&&(l>c?w(e,null==n[m+1]?null:n[m+1].elm,n,f,m,r):x(e,t,l,c))}(a,l,f,n):s(f)?(s(e.text)&&i.setTextContent(a,""),w(a,null,f,0,f.length-1,n)):s(l)?x(a,l,0,l.length-1):s(e.text)&&i.setTextContent(a,""):e.text!==t.text&&(s(l)&&x(a,l,0,l.length-1),i.setTextContent(a,t.text)),s(u)&&s(r=u.postpatch)&&r(e,t)}}return function(e,t){var n,r,u,l=[];for(n=0;n<o.pre.length;++n)o.pre[n]();for(function(e){return void 0!==e.sel}(e)||(e=a(e)),p(e,t)?A(e,t,l):(r=e.elm,u=i.parentNode(r),g(t,l),null!==u&&(i.insertBefore(u,t.elm,i.nextSibling(r)),x(u,[e],0,0))),n=0;n<l.length;++n)l[n].data.hook.insert(l[n]);for(n=0;n<o.post.length;++n)o.post[n]();return t}}([b,A,M,N]);function j(e,t){return S(e,t)}function L(e){return e.elm.parentNode.removeChild(e.elm)}window.signal=function(e){var n=[];return{value:function(){return r&&(r.inputs=[].concat(t(r.inputs||[]),[this])),e},reset:function(t){var r=this,o=e;e=t,o!==t&&n.forEach(function(e){return e(r,o,t)})},update:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.reset(t.call.apply(t,[null,e].concat(r)))},connect:function(e){return n=[].concat(t(n),[e]),function(){n=n.filter(function(t){return t!==e})}}}},window.signalFn=n,window.withInputSignals=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=e.apply(void 0,r),u=Array.isArray(i)?i.map(function(e){return e.value()}):i.value();return t.apply(void 0,[u].concat(r))}},window.h=_,window.mount=function(e,t){return function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i=n(t),u=!0,l=function(){u&&(e=r(e,i.value()),u=!1)};l();var f=i.connect(function(){u=!0,a.enqueue(l)});return function(){return f(),o(e)}}(e,t,j,L)}});
